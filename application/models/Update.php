<?php
 class Update extends CI_Model { public function __construct() { parent::__construct(); } public function views($imgid){ $sql = "update img_imginfo set views=views+1 where `imgid` = '$imgid'"; $query = $this->db->query($sql); if($query){ return true; } else{ return false; } } public function compress($id){ $id = strip_tags($id); $id = (int)$id; $sql = "UPDATE img_images SET `compression` = 1 WHERE imgid={$id}"; $query = $this->db->query($sql); if($query){ return TRUE; } else{ return FALSE; } } public function site($name,$data){ $name = strip_tags($name); $sql = "UPDATE img_options SET `values` = '$data' WHERE `name` = '{$name}'"; $query = $this->db->query($sql); if($query){ return TRUE; } else{ return FALSE; } } public function tinypng($values,$switch){ $sql = "UPDATE img_options SET `values` = '$values',`switch` = '$switch' WHERE `name` = 'tinypng'"; $query = $this->db->query($sql); if($query){ return TRUE; } else{ return FALSE; } } public function moderate($values,$switch){ $sql = "UPDATE img_options SET `values` = '$values',`switch` = '$switch' WHERE `name` = 'moderate'"; $query = $this->db->query($sql); if($query){ return TRUE; } else{ return FALSE; } } public function storage($data,$engine){ $this->db->where('engine', $engine); $up = $this->db->update('storage', $data); if($up){ return TRUE; } else{ return FALSE; } } public function password($values){ $sql = "UPDATE img_options SET `values` = '{$values}' WHERE `name` = 'userinfo'"; $query = $this->db->query($sql); if($query){ return TRUE; } else{ return FALSE; } } public function option($name,$values){ $sql = "UPDATE img_options SET `values` = '{$values}' WHERE `name` = '{$name}'"; try{ $this->db->query($sql); return TRUE; } catch(EXCeption $e){ exit($e->$e->getMessage()); } } } ?>